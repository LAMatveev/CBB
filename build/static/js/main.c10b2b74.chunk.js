(this.webpackJsonpcbb=this.webpackJsonpcbb||[]).push([[0],{27:function(e,t,n){},81:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(19),i=n.n(a),l=(n(81),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))}),s=n(22),o=n(12),u=n(13),d=n.n(u),j=n(16),b=n(7),h=n(8),f=n(10),p=(n(27),n(2));function O(e,t,n,c,r,a){return Object(p.jsxs)("div",{hidden:a,className:"box",children:[Object(p.jsx)(h.a.Control,{type:"text",placeholder:"Search",onChange:function(t){var n=t.target.value.toLowerCase(),c=e.children.map((function(e){return-1!=="(".concat(e.id,") ").concat(e.description).toLowerCase().indexOf(n)}));r(c)}}),e.children.map((function(e,r){return[t[r]=null!=t[r]&&t[r],c[r]=null==c[r]||c[r],c[r]?Object(p.jsx)(h.a.Check,{checked:t[r],style:{display:"flex",fontWeight:"bold"},value:e.id,type:"checkbox",label:"(".concat(e.id,") ").concat(e.description),onChange:function(e){t[r]=e.target.checked,n(t)}},e.id):null]}))]})}function m(e,t,n){return Object(p.jsx)("div",{hidden:!e,onClick:function(){return t(!1)},style:{position:"absolute",textAlign:"left",height:"min-content",width:"min-content",backgroundColor:"#ffffff",border:"solid black 1px",borderRadius:"1rem",padding:"20px",zIndex:5},children:Object(p.jsx)("pre",{children:n})})}function x(e,t){return fetch("http://localhost:3000/res/templates/Admins.json").then((function(e){return e.json()})).then((function(n){return"admin@cbb.com"===e&&"adminpassword"===t?"supertoken":n.children.find((function(n){return n.email===e&&n.password===t}))?"admintoken":null}))}function g(e){return"supertoken"===e?0:"admintoken"===e?1:403}function y(){var e=Object(o.g)(),t=function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{align:"center",style:{backgroundColor:"black",height:"100%",position:"relative",overflow:"auto"},children:[Object(p.jsx)(f.a,{onClick:function(e){return t(e)},className:f.a,style:{position:"absolute",left:"0",zIndex:"4"},children:"FUCK! GO BACK!"}),Object(p.jsx)("div",{className:"fullscreen",style:{zIndex:2},children:Object(p.jsx)("h1",{style:{fontFamily:"script",fontSize:"90em",fontWeight:"bold",color:"red",justifyContent:"center",alignItems:"center",display:"flex",width:"100%",height:"100%"},className:"unselectable",children:"\ud83d\udc41"})}),Object(p.jsx)("div",{className:"fullscreen",style:{zIndex:3},children:Object(p.jsx)("h1",{style:{fontFamily:"Papyrus",fontSize:"15em",fontWeight:"bold",color:"white",justifyContent:"center",alignItems:"center",display:"flex",width:"100%",height:"100%"},className:"unselectable",children:"Where are you going?\n403"})})]})}function v(){var e=Object(o.h)().man;e=parseInt(e);var t=g(localStorage.getItem("token")),n=window.location.toString().substring(0,window.location.toString().lastIndexOf("/")),r=n.substring(n.lastIndexOf("/")),a="/Admins"===r,i=-1===e,l=Object(c.useState)(""),s=Object(b.a)(l,2),u=s[0],x=s[1],v=Object(c.useState)(""),C=Object(b.a)(v,2),w=C[0],S=C[1],k=Object(c.useState)(""),I=Object(b.a)(k,2),N=I[0],A=I[1],D=Object(c.useState)(""),z=Object(b.a)(D,2),L=z[0],E=z[1],F=Object(c.useState)(""),B=Object(b.a)(F,2),W=B[0],J=B[1],q=Object(c.useState)(null),_=Object(b.a)(q,2),G=_[0],R=_[1],P=Object(c.useState)([]),T=Object(b.a)(P,2),K=T[0],H=T[1],M=Object(c.useState)([]),X=Object(b.a)(M,2),U=X[0],Y=X[1],Q=Object(c.useState)(""),V=Object(b.a)(Q,2),Z=V[0],$=V[1],ee=Object(c.useState)(!1),te=Object(b.a)(ee,2),ne=te[0],ce=te[1],re=Object(o.g)(),ae=Object(c.useState)(null),ie=Object(b.a)(ae,2),le=ie[0],se=ie[1];function oe(){return(oe=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={last_name:N,name:u,fathers_name:w,email:L,password:W},a||(n.attributes=G.children.map((function(e,t){return U[t]?e.id:null})).filter((function(e){return null!=e}))),$(JSON.stringify(n,null,2)),ce(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function n(){if(!a)return fetch("http://localhost:3000/res/templates/Attributes.json").then((function(e){return e.json()}))}403===t||1===t&&"/Admins"===r||Promise.all([fetch("http://localhost:3000/res/templates".concat(r,".json")).then((function(e){return e.json()})),n()]).then((function(t){var n=Object(b.a)(t,2),c=n[0],r=n[1];if(null!==c&&-1!==c.children.findIndex((function(t){return t.id===e}))&&!i){console.log(e);var l=c.children.filter((function(t){return t.id===e}))[0];S(l.fathers_name),x(l.name),A(l.last_name),E(l.email),J(l.password),a||Y(r.children.map((function(e){return l.attributes.includes(e.id)})))}se(c),R(r)}))}),[a,r,i,e,t]),403===t?Object(p.jsx)(o.a,{to:"/"}):1===t&&"/Admins"===r?Object(p.jsx)(y,{}):null==le||null==G&&!a?null:-1!==le.children.findIndex((function(t){return t.id===e}))||i?Object(p.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",justifyContent:"space-evenly",alignItems:"center",alignContent:"space-evenly",height:"100%",overflow:"auto"},children:[m(ne,ce,Z),Object(p.jsx)(f.a,{className:"bbutton",onClick:function(){return re.push(r)},style:{position:"absolute",left:"0",top:"0"},children:"Back"}),Object(p.jsx)("h1",{className:"unselectable script",children:i?"Create new person":"Edit"}),Object(p.jsxs)(h.a,{onSubmit:function(e){return function(e){return oe.apply(this,arguments)}(e)},style:{display:"flex",alignItems:"center",height:"75%"},children:[Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsxs)(h.a.Group,{size:"lg",controlId:"last_name",style:{textAlign:"center"},children:[Object(p.jsx)(h.a.Label,{children:"Last name"}),Object(p.jsx)(h.a.Control,{required:!0,onChange:function(e){return A(e.target.value)},autoFocus:!0,autoComplete:"on",type:"text",name:"last_name",value:N})]}),Object(p.jsxs)(h.a.Group,{size:"lg",controlId:"name",style:{textAlign:"center"},children:[Object(p.jsx)(h.a.Label,{children:"Name"}),Object(p.jsx)(h.a.Control,{required:!0,onChange:function(e){return x(e.target.value)},autoFocus:!0,autoComplete:"on",type:"text",name:"name",value:u})]}),Object(p.jsxs)(h.a.Group,{size:"lg",controlId:"fathers_name",style:{textAlign:"center"},children:[Object(p.jsx)(h.a.Label,{children:"Father's name"}),Object(p.jsx)(h.a.Control,{required:!0,onChange:function(e){return S(e.target.value)},autoFocus:!0,autoComplete:"on",type:"text",name:"fathers_name",value:w})]}),Object(p.jsxs)(h.a.Group,{size:"lg",controlId:"email",style:{textAlign:"center"},children:[Object(p.jsx)(h.a.Label,{children:"Email"}),Object(p.jsx)(h.a.Control,{required:!0,onChange:function(e){return E(e.target.value)},autoFocus:!0,autoComplete:"on",type:"email",name:"email",value:L})]}),Object(p.jsxs)(h.a.Group,{size:"lg",controlId:"password",style:{textAlign:"center"},children:[Object(p.jsx)(h.a.Label,{children:"Password"}),Object(p.jsx)(h.a.Control,{required:!0,onChange:function(e){return J(e.target.value)},type:"password",name:"password",value:W})]}),Object(p.jsx)(f.a,{type:"submit",className:"bbutton",children:i?"Save":"Edit"})]}),a?null:Object(p.jsx)("div",{style:{position:"absolute",right:"10%",height:"50%",overflow:"auto"},children:O(G,JSON.parse(JSON.stringify(U)),Y,K,H)})]})]}):Object(p.jsx)(o.a,{to:r})}var C=n(74),w=n(116),S=n(73);function k(e,t,n){return Object(p.jsx)("div",{children:Object(p.jsx)(w.a,{onSelect:function(t){return e(Number.parseInt(t))},title:n[t],children:n.map((function(e,n){return Object(p.jsxs)(S.a.Item,{active:t===n,eventKey:n,children:[" ",e," "]},e)}))})})}function I(e,t,n,c,r,a,i,l,s,o,u,d,j,b,f,m,x){function g(t,n,c){var r=JSON.parse(JSON.stringify(n));r[e]=t,c(r)}return Object(p.jsxs)("div",{className:"formgroup",children:[k((function(e){return g(e,t,n)}),t[e],["id","attribute"]),k((function(e){return g(e,c,r)}),c[e],["All in the list","At least one in the list"]),0===c[e]?Object(p.jsx)(h.a.Control,{value:a[e],style:{width:"100%"},type:"number",placeholder:"Least participant count (blank or zero for all)",onChange:function(e){if(Number(e.target.value)<=0)return e.target.value="",void g(0,a,i);g(Number(e.target.value),a,i)}}):null,O(m,l[e],(function(e){return g(e,l,s)}),d[e],(function(e){return g(e,d,j)}),0!==t[e]),O(x,o[e],(function(e){return g(e,o,u)}),d[e],(function(e){return g(e,d,j)}),0===t[e])]})}function N(){var e=window.location.toString().substring(0,window.location.toString().lastIndexOf("/")),t=e.substring(e.lastIndexOf("/")),n=Object(o.h)().rule,r=-1===(n=parseInt(n)),a=g(localStorage.getItem("token")),i=Object(o.g)(),l=Object(c.useState)([!1,!1,!1,!1,!1,!1,!1]),s=Object(b.a)(l,2),u=s[0],O=s[1],x=Object(c.useState)(!1),y=Object(b.a)(x,2),v=y[0],w=y[1],S=Object(c.useState)(""),N=Object(b.a)(S,2),A=N[0],D=N[1],z=Object(c.useState)(0),L=Object(b.a)(z,2),E=L[0],F=L[1],B=Object(c.useState)(!1),W=Object(b.a)(B,2),J=W[0],q=W[1],_=Object(c.useState)([]),G=Object(b.a)(_,2),R=G[0],P=G[1],T=Object(c.useState)(!1),K=Object(b.a)(T,2),H=K[0],M=K[1],X=Object(c.useState)(null),U=Object(b.a)(X,2),Y=U[0],Q=U[1],V=Object(c.useState)([0,0]),Z=Object(b.a)(V,2),$=Z[0],ee=Z[1],te=Object(c.useState)([0,0]),ne=Object(b.a)(te,2),ce=ne[0],re=ne[1],ae=Object(c.useState)([[],[]]),ie=Object(b.a)(ae,2),le=ie[0],se=ie[1],oe=Object(c.useState)([[],[]]),ue=Object(b.a)(oe,2),de=(ue[0],ue[1],Object(c.useState)([[],[]])),je=Object(b.a)(de,2),be=je[0],he=je[1],fe=Object(c.useState)([[],[]]),pe=Object(b.a)(fe,2),Oe=pe[0],me=pe[1],xe=Object(c.useState)([]),ge=Object(b.a)(xe,2),ye=ge[0],ve=ge[1],Ce=Object(c.useState)(null),we=Object(b.a)(Ce,2),Se=we[0],ke=we[1],Ie=Object(c.useState)(null),Ne=Object(b.a)(Ie,2),Ae=Ne[0],De=Ne[1],ze=Object(c.useState)(null),Le=Object(b.a)(ze,2),Ee=Le[0],Fe=Le[1],Be=Object(c.useState)(""),We=Object(b.a)(Be,2),Je=We[0],qe=We[1],_e=Object(c.useState)(!1),Ge=Object(b.a)(_e,2),Re=Ge[0],Pe=Ge[1];function Te(){return(Te=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={description:A,suspended:v,result:E,timeflag:J,timefrom:R[0],timeto:R[1],periodflag:H,period:Y||0,days:u},c=[0,1],n.children=[null,null],c.forEach((function(e){n.children[e]={type:$[e],option:ce[e],list:(0===$[e]?Ae.children.map((function(t,n){return be[e][n]?t.id:null})):Ee.children.map((function(t,n){return Oe[e][n]?t.id:null}))).filter((function(e){return null!=e})),count:null==ye[e]?0:ye[e]}})),qe(JSON.stringify(n,null,2)),Pe(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){403!==a&&Promise.all([fetch("http://localhost:3000/res/templates/Workers.json").then((function(e){return e.json()})),fetch("http://localhost:3000/res/templates/Attributes.json").then((function(e){return e.json()})),fetch("http://localhost:3000/res/templates/Rules.json").then((function(e){return e.json()}))]).then((function(e){var t=Object(b.a)(e,3),c=t[0],a=t[1],i=t[2];if(De(c),Fe(a),ke(i),null!==c&&null!=a&&void 0!==i.children.find((function(e){return e.id===n}))&&!r){var l=i.children.find((function(e){return e.id===n}));D(l.description),w(l.suspended),F(l.result),q(l.timeflag),P([l.timefrom,l.timeto]),M(l.periodflag),Q(l.period),O(l.days),ee([l.children[0].type,l.children[1].type]),re([l.children[0].option,l.children[1].option]),ve([l.children[0].count,l.children[1].count]),he(l.children.map((function(e){return c.children.map((function(t){return 0===e.type?e.list.includes(t.id):null}))}))),me(l.children.map((function(e){return c.children.map((function(t){return 1===e.type?e.list.includes(t.id):null}))})))}}))}),[r,n,a]),403===a?Object(p.jsx)(o.a,{to:"/"}):null==Se||null==Ae||null==Ee?null:void 0!==Se.children.find((function(e){return e.id===n}))||r?Object(p.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",alignItems:"center",alignContent:"space-evenly",height:"100%",overflow:"auto"},children:[m(Re,Pe,Je),Object(p.jsx)(f.a,{onClick:function(){i.push(t)},className:"bbutton",style:{position:"absolute",left:"10px",top:"10px"},children:"Back"}),Object(p.jsx)("h1",{className:"unselectable script",children:r?"Create new rule":"Edit"}),Object(p.jsx)("div",{style:{flexDirection:"row",display:"flex",width:"100%",justifyContent:"space-evenly",overflowX:"auto",position:"relative",top:"10%",height:"70%"},children:Object(p.jsxs)(h.a,{onSubmit:function(e){return function(e){return Te.apply(this,arguments)}(e)},style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"space-evenly",overflowX:"auto",height:"100%"},children:[Object(p.jsx)(f.a,{type:"submit",className:"bbutton",style:{position:"absolute",right:"10px",bottom:"10px",backgroundColor:"green"},children:r?"Save":"Edit"}),Object(p.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center"},children:[Object(p.jsx)(h.a.Check,{onChange:function(e){return w(e.target.checked)},checked:v,style:{fontWeight:"bolder",color:v?"red":"grey",marginRight:20},label:"Suspended"}),Object(p.jsx)(h.a.Control,{required:!0,type:"text",value:A,placeholder:"Description",style:{width:"50%",textAlign:"center"},onChange:function(e){return D(e.target.value)}})]}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",width:"100%",alignItems:"center",height:"90%"},children:[Object(p.jsx)("h1",{className:"unselectable script",children:"If"}),I(0,$,ee,ce,re,ye,ve,be,he,Oe,me,le,se,0,0,Ae,Ee),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(p.jsx)("h1",{style:{width:"min-content"},className:"unselectable script",children:"contacts"}),Object(p.jsx)("h1",{style:{width:"min-content"},className:"unselectable script",children:"with"})]}),I(1,$,ee,ce,re,ye,ve,be,he,Oe,me,le,se,0,0,Ae,Ee),Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",maxWidth:"20%"},children:[Object(p.jsx)(h.a.Check,{checked:J,type:"checkbox",label:"At time",className:"unselectable script",style:{justifyContent:"flex-start"},onChange:function(e){return q(e.target.checked)}}),"From",Object(p.jsx)(h.a.Control,{value:R[0],disabled:!J,style:{width:"min-content"},type:"time",onChange:function(e){return P([e.target.value,R[1]])}}),"To",Object(p.jsx)(h.a.Control,{value:R[1],disabled:!J,style:{width:"min-content"},type:"time",onChange:function(e){return P([R[0],e.target.value])}}),Object(p.jsx)(h.a.Check,{checked:H,type:"checkbox",label:"0nce every x mins",className:"unselectable script",style:{justifyContent:"flex-start"},onChange:function(e){return M(e.target.checked)}}),Object(p.jsx)(h.a.Control,{disabled:!H,value:Y,style:{width:"100%"},type:"number",placeholder:"Blank or zero for single trigger",onChange:function(e){Number(e.target.value)<0&&(e.target.value=""),Q(Number(e.target.value))}})]}),Object(p.jsx)("h1",{className:"unselectable script",children:"then"}),Object(p.jsx)("div",{style:{display:"flex",alignItems:"center"},children:k(F,E,["Do not send signal","Send signal"])})]}),Object(p.jsx)("div",{style:{display:"flex"},children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((function(e,t){return Object(p.jsx)(f.a,{onClick:function(e){var n=Object(C.a)(u);n[t]=!n[t],O(n)},style:{backgroundColor:u[t]?"green":"grey"},children:e})}))})]})})]}):Object(p.jsx)(o.a,{to:t})}var A=n(117),D=n(118);function z(){var e=Object(o.h)().id,t=Object(o.g)(),n=g(localStorage.getItem("token"));403===n&&t.push("/");var c=(0===n?["Admins"]:[]).concat(["Workers","Attributes","Rules"]);return Object(p.jsx)("div",{style:{zIndex:2,width:"100%"},children:Object(p.jsx)(A.a,{collapseOnSelect:!0,bg:"light",expand:"md",className:"mb-3",children:Object(p.jsx)(A.a.Collapse,{className:"justify-content-center",children:Object(p.jsxs)(D.a,{activeKey:window.location.pathname,variant:"pills",children:[c.map((function(t){return Object(p.jsx)(D.a.Link,{disabled:e===t,href:"/".concat(t),children:t},t)})),Object(p.jsx)(f.a,{style:{position:"absolute",right:10},onClick:function(){localStorage.removeItem("token"),t.push("/")},children:"Logout"})]})})})})}var L=n(72),E=n.n(L),F=n(119);function B(){var e=g(localStorage.getItem("token")),t=Object(o.h)().id,n=Object(c.useState)(!0),r=Object(b.a)(n,2),a=r[0],i=r[1],l=Object(c.useState)(null),s=Object(b.a)(l,2),u=s[0],O=s[1],x=Object(c.useState)([]),v=Object(b.a)(x,2),C=v[0],w=v[1],S=Object(c.useState)(""),k=Object(b.a)(S,2),I=k[0],N=k[1],A=Object(c.useState)(!1),D=Object(b.a)(A,2),L=D[0],B=D[1];function W(){return(W=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"HEAD"});case 2:return n=e.sent,e.abrupt("return",404!==n.status);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={id:t},N(JSON.stringify(n,null,2)),B(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){403===e||1===e&&"Admins"===t||function(e){return W.apply(this,arguments)}("http://localhost:3000/res/templates/".concat(t,".json")).then((function(e){e||i(!1)})).then((function(){return fetch("http://localhost:3000/res/templates/".concat(t,".json")).then((function(e){return e.json()})).then((function(e){O(e)}),(function(e){return Object(p.jsx)("div",{children:{error:e}})}))}))}),[t,e]),403!==e&&a?1===e&&"Admins"===t?Object(p.jsx)(y,{}):null==u?null:Object(p.jsx)("div",{align:"center",style:{height:"100%",position:"relative",overflow:"auto"},children:Object(p.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",justifyContent:"space-between",alignItems:"center",height:"100%",overflow:"auto"},children:[Object(p.jsxs)("div",{style:{width:"100%",height:"min-content",maxHeight:"30%"},children:[Object(p.jsx)(z,{}),Object(p.jsxs)("div",{style:{width:"100%"},children:[Object(p.jsx)("h1",{className:"unselectable script",children:"Corporate Big Br\ud83d\udc41ther"}),Object(p.jsx)("h1",{className:"script",children:"".concat(t)})]})]}),Object(p.jsxs)("div",{style:{width:"100%",height:"70%",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(p.jsx)(h.a.Control,{style:{width:"50%",textAlign:"center",zIndex:"2",marginBottom:"20px"},type:"text",placeholder:"Search",onChange:function(e){var t=e.target.value.toLowerCase(),n=u.children.map((function(e){return-1!=="".concat(e.description).toLowerCase().indexOf(t)}));w(n)}}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyItems:"center",alignItems:"center",height:"min-content",maxHeight:"50%",overflowY:"auto",zIndex:3,width:"auto",minWidth:"50%",backgroundColor:"#d9fffa",padding:"10px",border:"solid darkblue 2px",borderRadius:"1rem"},children:[m(L,B,I),Object(p.jsx)(f.a,{style:{marginBottom:"1em"},className:"round",href:"/".concat(t,"/-1"),children:"\u2795"},-1),u.children.map((function(e,n){return[C[n]=null==C[n]||C[n],C[n]?Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(p.jsx)(f.a,{style:{marginRight:"10px"},href:"/".concat(t,"/").concat(e.id),children:e.description},e.id),Object(p.jsx)(F.a,{children:Object(p.jsx)(E.a,{style:{backgroundColor:"#e8220dba",color:"white",borderRadius:"1rem",width:"40px",height:"40px"}}),onClick:function(){return function(e){return J.apply(this,arguments)}(e.id)}})]}):null]}))]})]})]},t)}):Object(p.jsx)(o.a,{to:"/"})}function W(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(b.a)(a,2),l=i[0],s=i[1],u=Object(c.useState)(""),O=Object(b.a)(u,2),m=O[0],y=O[1],v=Object(o.g)();Object(c.useEffect)((function(){403!==g(localStorage.getItem("token"))&&v.push("/Attributes")}));var C=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),x(n,l).then((function(e){null===e?y("Invalid email or password"):(localStorage.setItem("token",e),v.push("/Attributes"))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",justifyContent:"center",alignItems:"center",alignContent:"space-evenly",height:"100%",overflow:"auto"},children:[Object(p.jsx)("h1",{className:"script",children:"Corporate Big Br\ud83d\udc41ther"}),Object(p.jsx)("h2",{children:m}),Object(p.jsxs)(h.a,{id:"login",style:{display:"grid",alignItems:"center"},onSubmit:function(e){return C(e)},children:[Object(p.jsxs)(h.a.Group,{size:"lg",controlId:"email",style:{textAlign:"center"},children:[Object(p.jsx)(h.a.Label,{children:"Email"}),Object(p.jsx)(h.a.Control,{required:!0,className:""===n?"error":"",onChange:function(e){return r(e.target.value)},autoFocus:!0,autoComplete:"on",type:"email",name:"email"})]}),Object(p.jsxs)(h.a.Group,{size:"lg",controlId:"password",style:{textAlign:"center"},children:[Object(p.jsx)(h.a.Label,{children:"Password"}),Object(p.jsx)(h.a.Control,{required:!0,className:""===l?"error":"",onChange:function(e){return s(e.target.value)},type:"password",name:"password"})]}),Object(p.jsx)(f.a,{type:"submit",className:f.a,children:"Login"})]})]})}var J=window.location.toString().substring(0,window.location.toString().lastIndexOf("/")),q=J.substring(J.lastIndexOf("/"));function _(){var e=Object(o.h)().attribute;e=parseInt(e);var t=g(localStorage.getItem("token")),n=Object(c.useState)(""),r=Object(b.a)(n,2),a=r[0],i=r[1],l=Object(o.g)(),s=Object(c.useState)(null),u=Object(b.a)(s,2),O=u[0],x=u[1],y=Object(c.useState)(""),v=Object(b.a)(y,2),C=v[0],w=v[1],S=Object(c.useState)(!1),k=Object(b.a)(S,2),I=k[0],N=k[1];function A(){return(A=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={description:a},w(JSON.stringify(n,null,2)),N(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){403!==t&&fetch("http://localhost:3000/res/templates/Attributes.json").then((function(e){return e.json()})).then((function(t){x(t),void 0!==t.children.find((function(t){return t.id===e}))&&i(t.children.find((function(t){return t.id===e})).description)}),(function(e){return Object(p.jsx)("div",{children:{error:e}})}))}),[e,t]),403===t?Object(p.jsx)(o.a,{to:"/"}):null==O?null:O.children.find((function(t){return t.id===e}))||-1===e?Object(p.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",alignItems:"center",alignContent:"center",height:"100%",overflow:"auto"},children:[Object(p.jsx)(f.a,{className:"bbutton",onClick:function(){l.push(q)},style:{position:"absolute",left:"10px",top:"10px"},children:"Back"}),Object(p.jsx)("h1",{className:"unselectable script",children:-1===e?"Create new attribute":"Edit"}),Object(p.jsxs)(h.a,{onSubmit:function(e){return function(e){return A.apply(this,arguments)}(e)},style:{width:"100%",height:"100%"},children:[Object(p.jsx)(f.a,{type:"submit",className:"bbutton",style:{position:"absolute",right:"10px",bottom:"10px",backgroundColor:"green",zIndex:"2"},children:-1===e?"Save":"Edit"}),Object(p.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[m(I,N,C),Object(p.jsx)(h.a.Control,{required:!0,type:"text",value:a,placeholder:"Attribute",style:{width:"50%",textAlign:"center"},onChange:function(e){return i(e.target.value)}})]})]})]}):Object(p.jsx)(o.a,{to:q})}function G(){return Object(p.jsxs)(o.d,{children:[Object(p.jsx)(o.b,{exact:!0,path:"/",component:W}),Object(p.jsx)(o.b,{exact:!0,path:"/:id",component:B})," ",Object(p.jsx)(o.b,{exact:!0,path:"/Workers/:man",component:v}),Object(p.jsx)(o.b,{exact:!0,path:"/Admins/:man",component:v}),Object(p.jsx)(o.b,{exact:!0,path:"/Rules/:rule",component:N}),Object(p.jsx)(o.b,{exact:!0,path:"/Attributes/:attribute",component:_}),Object(p.jsx)(o.b,{exact:!0,path:"/Access_denied",component:y}),Object(p.jsx)(o.a,{from:"/",to:"/Attributes"}),Object(p.jsx)(o.a,{from:"*",to:"/"})]})}i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(s.a,{children:Object(p.jsx)(G,{})})}),document.getElementById("root")),l(console.log)}},[[95,1,2]]]);
//# sourceMappingURL=main.c10b2b74.chunk.js.map