(this.webpackJsonpcbb=this.webpackJsonpcbb||[]).push([[0],{27:function(e,t,n){},81:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(19),i=n.n(a),l=(n(81),n(22)),s=n(12),o=n(13),u=n.n(o),d=n(16),j=n(7),b=n(8),h=n(10),f=(n(27),n(2));function p(e,t,n,c,r,a){return Object(f.jsxs)("div",{hidden:a,className:"box",children:[Object(f.jsx)(b.a.Control,{type:"text",placeholder:"Search",onChange:function(t){var n=t.target.value.toLowerCase(),c=e.children.map((function(e){return-1!=="(".concat(e.id,") ").concat(e.description).toLowerCase().indexOf(n)}));r(c)}}),e.children.map((function(e,r){return[t[r]=null!=t[r]&&t[r],c[r]=null==c[r]||c[r],c[r]?Object(f.jsx)(b.a.Check,{checked:t[r],style:{display:"flex",fontWeight:"bold"},value:e.id,type:"checkbox",label:"(".concat(e.id,") ").concat(e.description),onChange:function(e){t[r]=e.target.checked,n(t)}},e.id):null]}))]})}function O(e,t,n){return Object(f.jsx)("div",{hidden:!e,onClick:function(){return t(!1)},style:{position:"absolute",textAlign:"left",height:"min-content",width:"min-content",backgroundColor:"#ffffff",border:"solid black 1px",borderRadius:"1rem",padding:"20px",zIndex:5},children:Object(f.jsx)("pre",{children:n})})}function m(e,t){return fetch("http://localhost:3000/res/templates/Admins.json").then((function(e){return e.json()})).then((function(n){return"admin@cbb.com"===e&&"adminpassword"===t?"supertoken":n.children.find((function(n){return n.email===e&&n.password===t}))?"admintoken":null}))}function x(e){return"supertoken"===e?0:"admintoken"===e?1:403}function g(){var e=Object(s.g)(),t=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{align:"center",style:{backgroundColor:"black",height:"100%",position:"relative",overflow:"auto"},children:[Object(f.jsx)(h.a,{onClick:function(e){return t(e)},className:"bbutton",style:{position:"absolute",left:"0",zIndex:"4"},children:"FUCK! GO BACK!"}),Object(f.jsx)("div",{className:"fullscreen",style:{zIndex:2},children:Object(f.jsx)("h1",{style:{fontFamily:"script",fontSize:"90em",fontWeight:"bold",color:"red",justifyContent:"center",alignItems:"center",display:"flex",width:"100%",height:"100%"},className:"unselectable",children:"\ud83d\udc41"})}),Object(f.jsx)("div",{className:"fullscreen",style:{zIndex:3},children:Object(f.jsx)("h1",{style:{fontFamily:"Papyrus",fontSize:"15em",fontWeight:"bold",color:"white",justifyContent:"center",alignItems:"center",display:"flex",width:"100%",height:"100%"},className:"unselectable",children:"Where are you going?\n403"})})]})}function y(){var e=Object(s.h)().man;e=parseInt(e);var t=x(localStorage.getItem("token")),n=window.location.toString().substring(0,window.location.toString().lastIndexOf("/")),r=n.substring(n.lastIndexOf("/")),a="/Admins"===r,i=-1===e,l=Object(c.useState)(""),o=Object(j.a)(l,2),m=o[0],y=o[1],v=Object(c.useState)(""),C=Object(j.a)(v,2),w=C[0],S=C[1],k=Object(c.useState)(""),I=Object(j.a)(k,2),N=I[0],A=I[1],z=Object(c.useState)(""),D=Object(j.a)(z,2),E=D[0],L=D[1],B=Object(c.useState)(""),F=Object(j.a)(B,2),W=F[0],J=F[1],q=Object(c.useState)(null),_=Object(j.a)(q,2),G=_[0],R=_[1],P=Object(c.useState)([]),K=Object(j.a)(P,2),H=K[0],T=K[1],M=Object(c.useState)([]),X=Object(j.a)(M,2),U=X[0],Y=X[1],Q=Object(c.useState)(""),V=Object(j.a)(Q,2),Z=V[0],$=V[1],ee=Object(c.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ce=te[1],re=Object(s.g)(),ae=Object(c.useState)(null),ie=Object(j.a)(ae,2),le=ie[0],se=ie[1];function oe(){return(oe=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={last_name:N,name:m,fathers_name:w,email:E,password:W},a||(n.attributes=G.children.map((function(e,t){return U[t]?e.id:null})).filter((function(e){return null!=e}))),$(JSON.stringify(n,null,2)),ce(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function n(){if(!a)return fetch("http://localhost:3000/res/templates/Attributes.json").then((function(e){return e.json()}))}403===t||1===t&&"/Admins"===r||Promise.all([fetch("http://localhost:3000/res/templates".concat(r,".json")).then((function(e){return e.json()})),n()]).then((function(t){var n=Object(j.a)(t,2),c=n[0],r=n[1];if(null!==c&&-1!==c.children.findIndex((function(t){return t.id===e}))&&!i){console.log(e);var l=c.children.filter((function(t){return t.id===e}))[0];S(l.fathers_name),y(l.name),A(l.last_name),L(l.email),J(l.password),a||Y(r.children.map((function(e){return l.attributes.includes(e.id)})))}se(c),R(r)}))}),[a,r,i,e,t]),403===t?Object(f.jsx)(s.a,{to:"/"}):1===t&&"/Admins"===r?Object(f.jsx)(g,{}):null==le||null==G&&!a?null:-1!==le.children.findIndex((function(t){return t.id===e}))||i?Object(f.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",justifyContent:"space-evenly",alignItems:"center",alignContent:"space-evenly",height:"100%",overflow:"auto"},children:[O(ne,ce,Z),Object(f.jsx)(h.a,{className:"bbutton",onClick:function(){return re.push(r)},style:{position:"absolute",left:"0",top:"0"},children:"Back"}),Object(f.jsx)("h1",{className:"unselectable script",children:i?"Create new person":"Edit"}),Object(f.jsxs)(b.a,{onSubmit:function(e){return function(e){return oe.apply(this,arguments)}(e)},style:{display:"flex",alignItems:"center",height:"75%"},children:[Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(f.jsxs)(b.a.Group,{size:"lg",controlId:"last_name",style:{textAlign:"center"},children:[Object(f.jsx)(b.a.Label,{children:"Last name"}),Object(f.jsx)(b.a.Control,{required:!0,onChange:function(e){return A(e.target.value)},autoFocus:!0,autoComplete:"on",type:"text",name:"last_name",value:N})]}),Object(f.jsxs)(b.a.Group,{size:"lg",controlId:"name",style:{textAlign:"center"},children:[Object(f.jsx)(b.a.Label,{children:"Name"}),Object(f.jsx)(b.a.Control,{onChange:function(e){return y(e.target.value)},autoFocus:!0,autoComplete:"on",type:"text",name:"name",value:m})]}),Object(f.jsxs)(b.a.Group,{size:"lg",controlId:"fathers_name",style:{textAlign:"center"},children:[Object(f.jsx)(b.a.Label,{children:"Father's name"}),Object(f.jsx)(b.a.Control,{onChange:function(e){return S(e.target.value)},autoFocus:!0,autoComplete:"on",type:"text",name:"fathers_name",value:w})]}),Object(f.jsxs)(b.a.Group,{size:"lg",controlId:"email",style:{textAlign:"center"},children:[Object(f.jsx)(b.a.Label,{children:"Email"}),Object(f.jsx)(b.a.Control,{required:!0,onChange:function(e){return L(e.target.value)},autoFocus:!0,autoComplete:"on",type:"email",name:"email",value:E})]}),Object(f.jsxs)(b.a.Group,{size:"lg",controlId:"password",style:{textAlign:"center"},children:[Object(f.jsx)(b.a.Label,{children:"Password"}),Object(f.jsx)(b.a.Control,{required:!0,onChange:function(e){return J(e.target.value)},type:"password",name:"password",value:W})]}),Object(f.jsx)(h.a,{type:"submit",className:"bbutton",children:i?"Save":"Edit"})]}),a?null:Object(f.jsx)("div",{style:{position:"absolute",right:"10%",height:"50%",overflow:"auto"},children:p(G,JSON.parse(JSON.stringify(U)),Y,H,T)})]})]}):Object(f.jsx)(s.a,{to:r})}var v=n(74),C=n(115),w=n(73);function S(e,t,n){return Object(f.jsx)("div",{children:Object(f.jsx)(C.a,{onSelect:function(t){return e(Number.parseInt(t))},title:n[t],children:n.map((function(e,n){return Object(f.jsxs)(w.a.Item,{active:t===n,eventKey:n,children:[" ",e," "]},e)}))})})}function k(e,t,n,c,r,a,i,l,s,o,u,d,j,h,O,m,x){function g(t,n,c){var r=JSON.parse(JSON.stringify(n));r[e]=t,c(r)}return Object(f.jsxs)("div",{className:"formgroup",children:[S((function(e){return g(e,t,n)}),t[e],["id","attribute"]),S((function(e){return g(e,c,r)}),c[e],["All in the list","At least one in the list"]),0===c[e]?Object(f.jsx)(b.a.Control,{value:a[e],style:{width:"100%"},type:"number",placeholder:"Least participant count (blank or zero for all)",onChange:function(e){if(Number(e.target.value)<=0)return e.target.value="",void g(0,a,i);g(Number(e.target.value),a,i)}}):null,p(m,l[e],(function(e){return g(e,l,s)}),d[e],(function(e){return g(e,d,j)}),0!==t[e]),p(x,o[e],(function(e){return g(e,o,u)}),d[e],(function(e){return g(e,d,j)}),0===t[e])]})}function I(){var e=window.location.toString().substring(0,window.location.toString().lastIndexOf("/")),t=e.substring(e.lastIndexOf("/")),n=Object(s.h)().rule,r=-1===(n=parseInt(n)),a=x(localStorage.getItem("token")),i=Object(s.g)(),l=Object(c.useState)([!1,!1,!1,!1,!1,!1,!1]),o=Object(j.a)(l,2),p=o[0],m=o[1],g=Object(c.useState)(!1),y=Object(j.a)(g,2),C=y[0],w=y[1],I=Object(c.useState)(""),N=Object(j.a)(I,2),A=N[0],z=N[1],D=Object(c.useState)(0),E=Object(j.a)(D,2),L=E[0],B=E[1],F=Object(c.useState)(!1),W=Object(j.a)(F,2),J=W[0],q=W[1],_=Object(c.useState)([]),G=Object(j.a)(_,2),R=G[0],P=G[1],K=Object(c.useState)(!1),H=Object(j.a)(K,2),T=H[0],M=H[1],X=Object(c.useState)(null),U=Object(j.a)(X,2),Y=U[0],Q=U[1],V=Object(c.useState)([0,0]),Z=Object(j.a)(V,2),$=Z[0],ee=Z[1],te=Object(c.useState)([0,0]),ne=Object(j.a)(te,2),ce=ne[0],re=ne[1],ae=Object(c.useState)([[],[]]),ie=Object(j.a)(ae,2),le=ie[0],se=ie[1],oe=Object(c.useState)([[],[]]),ue=Object(j.a)(oe,2),de=(ue[0],ue[1],Object(c.useState)([[],[]])),je=Object(j.a)(de,2),be=je[0],he=je[1],fe=Object(c.useState)([[],[]]),pe=Object(j.a)(fe,2),Oe=pe[0],me=pe[1],xe=Object(c.useState)([]),ge=Object(j.a)(xe,2),ye=ge[0],ve=ge[1],Ce=Object(c.useState)(null),we=Object(j.a)(Ce,2),Se=we[0],ke=we[1],Ie=Object(c.useState)(null),Ne=Object(j.a)(Ie,2),Ae=Ne[0],ze=Ne[1],De=Object(c.useState)(null),Ee=Object(j.a)(De,2),Le=Ee[0],Be=Ee[1],Fe=Object(c.useState)(""),We=Object(j.a)(Fe,2),Je=We[0],qe=We[1],_e=Object(c.useState)(!1),Ge=Object(j.a)(_e,2),Re=Ge[0],Pe=Ge[1];function Ke(){return(Ke=Object(d.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={description:A,suspended:C,result:L,timeflag:J,timefrom:R[0],timeto:R[1],periodflag:T,period:Y||0,days:p},c=[0,1],n.children=[null,null],c.forEach((function(e){n.children[e]={type:$[e],option:ce[e],list:(0===$[e]?Ae.children.map((function(t,n){return be[e][n]?t.id:null})):Le.children.map((function(t,n){return Oe[e][n]?t.id:null}))).filter((function(e){return null!=e})),count:null==ye[e]?0:ye[e]}})),qe(JSON.stringify(n,null,2)),Pe(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){403!==a&&Promise.all([fetch("http://localhost:3000/res/templates/Workers.json").then((function(e){return e.json()})),fetch("http://localhost:3000/res/templates/Attributes.json").then((function(e){return e.json()})),fetch("http://localhost:3000/res/templates/Rules.json").then((function(e){return e.json()}))]).then((function(e){var t=Object(j.a)(e,3),c=t[0],a=t[1],i=t[2];if(ze(c),Be(a),ke(i),null!==c&&null!=a&&void 0!==i.children.find((function(e){return e.id===n}))&&!r){var l=i.children.find((function(e){return e.id===n}));z(l.description),w(l.suspended),B(l.result),q(l.timeflag),P([l.timefrom,l.timeto]),M(l.periodflag),Q(l.period),m(l.days),ee([l.children[0].type,l.children[1].type]),re([l.children[0].option,l.children[1].option]),ve([l.children[0].count,l.children[1].count]),he(l.children.map((function(e){return c.children.map((function(t){return 0===e.type?e.list.includes(t.id):null}))}))),me(l.children.map((function(e){return c.children.map((function(t){return 1===e.type?e.list.includes(t.id):null}))})))}}))}),[r,n,a]),403===a?Object(f.jsx)(s.a,{to:"/"}):null==Se||null==Ae||null==Le?null:void 0!==Se.children.find((function(e){return e.id===n}))||r?Object(f.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",alignItems:"center",alignContent:"space-evenly",height:"100%",overflow:"auto"},children:[O(Re,Pe,Je),Object(f.jsx)(h.a,{onClick:function(){i.push(t)},className:"bbutton",style:{position:"absolute",left:"10px",top:"10px"},children:"Back"}),Object(f.jsx)("h1",{className:"unselectable script",children:r?"Create new rule":"Edit"}),Object(f.jsx)("div",{style:{flexDirection:"row",display:"flex",width:"100%",justifyContent:"space-evenly",overflowX:"auto",position:"relative",top:"10%",height:"70%"},children:Object(f.jsxs)(b.a,{onSubmit:function(e){return function(e){return Ke.apply(this,arguments)}(e)},style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"space-evenly",overflowX:"auto",height:"100%"},children:[Object(f.jsx)(h.a,{type:"submit",className:"bbutton",style:{position:"absolute",right:"10px",bottom:"10px",backgroundColor:"green"},children:r?"Save":"Edit"}),Object(f.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center"},children:[Object(f.jsx)(b.a.Check,{onChange:function(e){return w(e.target.checked)},checked:C,style:{fontWeight:"bolder",color:C?"red":"grey",marginRight:20},label:"Suspended"}),Object(f.jsx)(b.a.Control,{required:!0,type:"text",value:A,placeholder:"Description",style:{width:"50%",textAlign:"center"},onChange:function(e){return z(e.target.value)}})]}),Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",width:"100%",alignItems:"center",height:"90%"},children:[Object(f.jsx)("h1",{className:"unselectable script",children:"If"}),k(0,$,ee,ce,re,ye,ve,be,he,Oe,me,le,se,0,0,Ae,Le),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(f.jsx)("h1",{style:{width:"min-content"},className:"unselectable script",children:"contacts"}),Object(f.jsx)("h1",{style:{width:"min-content"},className:"unselectable script",children:"with"})]}),k(1,$,ee,ce,re,ye,ve,be,he,Oe,me,le,se,0,0,Ae,Le),Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",maxWidth:"20%"},children:[Object(f.jsx)(b.a.Check,{checked:J,type:"checkbox",label:"At time",className:"unselectable script",style:{justifyContent:"flex-start"},onChange:function(e){return q(e.target.checked)}}),"From",Object(f.jsx)(b.a.Control,{required:!0,value:R[0],disabled:!J,style:{width:"min-content"},type:"time",onChange:function(e){return P([e.target.value,R[1]])}}),"To",Object(f.jsx)(b.a.Control,{required:!0,value:R[1],disabled:!J,style:{width:"min-content"},type:"time",onChange:function(e){return P([R[0],e.target.value])}}),Object(f.jsx)(b.a.Check,{checked:T,type:"checkbox",label:"0nce every x mins",className:"unselectable script",style:{justifyContent:"flex-start"},onChange:function(e){return M(e.target.checked)}}),Object(f.jsx)(b.a.Control,{disabled:!T,value:Y,style:{width:"100%"},type:"number",placeholder:"Blank or zero for single trigger",onChange:function(e){Number(e.target.value)<0&&(e.target.value=""),Q(Number(e.target.value))}})]}),Object(f.jsx)("h1",{className:"unselectable script",children:"then"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:S(B,L,["Do not send signal","Send signal"])})]}),Object(f.jsx)("div",{style:{display:"flex"},children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((function(e,t){return Object(f.jsx)(h.a,{onClick:function(e){var n=Object(v.a)(p);n[t]=!n[t],m(n)},style:{backgroundColor:p[t]?"green":"grey"},children:e})}))})]})})]}):Object(f.jsx)(s.a,{to:t})}var N=n(116),A=n(117);function z(){var e=Object(s.h)().id,t=Object(s.g)(),n=x(localStorage.getItem("token"));403===n&&t.push("/");var c=(0===n?["Admins"]:[]).concat(["Workers","Attributes","Rules"]);return Object(f.jsx)("div",{style:{zIndex:2,width:"100%"},children:Object(f.jsx)(N.a,{collapseOnSelect:!0,bg:"light",expand:"md",className:"mb-3",children:Object(f.jsx)(N.a.Collapse,{className:"justify-content-center",children:Object(f.jsxs)(A.a,{activeKey:window.location.pathname,variant:"pills",children:[c.map((function(t){return Object(f.jsx)(A.a.Link,{disabled:e===t,href:"/".concat(t),children:t},t)})),Object(f.jsx)(h.a,{style:{position:"absolute",right:10},onClick:function(){localStorage.removeItem("token"),t.push("/")},children:"Logout"})]})})})})}var D=n(72),E=n.n(D),L=n(118);function B(){var e=x(localStorage.getItem("token")),t=Object(s.h)().id,n=Object(c.useState)(!0),r=Object(j.a)(n,2),a=r[0],i=r[1],l=Object(c.useState)(null),o=Object(j.a)(l,2),p=o[0],m=o[1],y=Object(c.useState)([]),v=Object(j.a)(y,2),C=v[0],w=v[1],S=Object(c.useState)(""),k=Object(j.a)(S,2),I=k[0],N=k[1],A=Object(c.useState)(!1),D=Object(j.a)(A,2),B=D[0],F=D[1];function W(){return(W=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"HEAD"});case 2:return n=e.sent,e.abrupt("return",404!==n.status);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={id:t},N(JSON.stringify(n,null,2)),F(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){403===e||1===e&&"Admins"===t||function(e){return W.apply(this,arguments)}("http://localhost:3000/res/templates/".concat(t,".json")).then((function(e){e||i(!1)})).then((function(){return fetch("http://localhost:3000/res/templates/".concat(t,".json")).then((function(e){return e.json()})).then((function(e){m(e)}),(function(e){return Object(f.jsx)("div",{children:{error:e}})}))}))}),[t,e]),403!==e&&a?1===e&&"Admins"===t?Object(f.jsx)(g,{}):null==p?null:Object(f.jsx)("div",{align:"center",style:{height:"100%",position:"relative",overflow:"auto"},children:Object(f.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",justifyContent:"space-between",alignItems:"center",height:"100%",overflow:"auto"},children:[Object(f.jsxs)("div",{style:{width:"100%",height:"min-content",maxHeight:"30%"},children:[Object(f.jsx)(z,{}),Object(f.jsxs)("div",{style:{width:"100%"},children:[Object(f.jsx)("h1",{className:"unselectable script",children:"Corporate Big Br\ud83d\udc41ther"}),Object(f.jsx)("h1",{className:"script",children:"".concat(t)})]})]}),Object(f.jsxs)("div",{style:{width:"100%",height:"70%",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(f.jsx)(b.a.Control,{style:{width:"50%",textAlign:"center",zIndex:"2",marginBottom:"20px"},type:"text",placeholder:"Search",onChange:function(e){var t=e.target.value.toLowerCase(),n=p.children.map((function(e){return-1!=="".concat(e.description).toLowerCase().indexOf(t)}));w(n)}}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyItems:"center",alignItems:"center",height:"min-content",maxHeight:"50%",overflowY:"auto",zIndex:3,width:"auto",minWidth:"50%",backgroundColor:"#d9fffa",padding:"10px",border:"solid darkblue 2px",borderRadius:"1rem"},children:[O(B,F,I),Object(f.jsx)(h.a,{style:{marginBottom:"1em"},className:"round",href:"/".concat(t,"/-1"),children:"\u2795"},-1),p.children.map((function(e,n){return[C[n]=null==C[n]||C[n],C[n]?Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(h.a,{style:{marginRight:"10px"},href:"/".concat(t,"/").concat(e.id),children:e.description},e.id),Object(f.jsx)(L.a,{children:Object(f.jsx)(E.a,{style:{backgroundColor:"#e8220dba",color:"white",borderRadius:"1rem",width:"40px",height:"40px"}}),onClick:function(){return function(e){return J.apply(this,arguments)}(e.id)}})]}):null]}))]})]})]},t)}):Object(f.jsx)(s.a,{to:"/"})}function F(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(j.a)(a,2),l=i[0],o=i[1],p=Object(c.useState)(""),O=Object(j.a)(p,2),g=O[0],y=O[1],v=Object(s.g)();Object(c.useEffect)((function(){403!==x(localStorage.getItem("token"))&&v.push("/Attributes")}));var C=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),m(n,l).then((function(e){null===e?y("Invalid email or password"):(localStorage.setItem("token",e),v.push("/Attributes"))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",justifyContent:"center",alignItems:"center",alignContent:"space-evenly",height:"100%",overflow:"auto"},children:[Object(f.jsx)("h1",{className:"script",children:"Corporate Big Br\ud83d\udc41ther"}),Object(f.jsx)("h2",{children:g}),Object(f.jsxs)(b.a,{id:"login",style:{display:"grid",alignItems:"center"},onSubmit:function(e){return C(e)},children:[Object(f.jsxs)(b.a.Group,{size:"lg",controlId:"email",style:{textAlign:"center"},children:[Object(f.jsx)(b.a.Label,{children:"Email"}),Object(f.jsx)(b.a.Control,{required:!0,className:""===n?"error":"",onChange:function(e){return r(e.target.value)},autoFocus:!0,autoComplete:"on",type:"email",name:"email"})]}),Object(f.jsxs)(b.a.Group,{size:"lg",controlId:"password",style:{textAlign:"center"},children:[Object(f.jsx)(b.a.Label,{children:"Password"}),Object(f.jsx)(b.a.Control,{required:!0,className:""===l?"error":"",onChange:function(e){return o(e.target.value)},type:"password",name:"password"})]}),Object(f.jsx)(h.a,{type:"submit",className:h.a,children:"Login"})]})]})}var W=window.location.toString().substring(0,window.location.toString().lastIndexOf("/")),J=W.substring(W.lastIndexOf("/"));function q(){var e=Object(s.h)().attribute;e=parseInt(e);var t=x(localStorage.getItem("token")),n=Object(c.useState)(""),r=Object(j.a)(n,2),a=r[0],i=r[1],l=Object(s.g)(),o=Object(c.useState)(null),p=Object(j.a)(o,2),m=p[0],g=p[1],y=Object(c.useState)(""),v=Object(j.a)(y,2),C=v[0],w=v[1],S=Object(c.useState)(!1),k=Object(j.a)(S,2),I=k[0],N=k[1];function A(){return(A=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={description:a},w(JSON.stringify(n,null,2)),N(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){403!==t&&fetch("http://localhost:3000/res/templates/Attributes.json").then((function(e){return e.json()})).then((function(t){g(t),void 0!==t.children.find((function(t){return t.id===e}))&&i(t.children.find((function(t){return t.id===e})).description)}),(function(e){return Object(f.jsx)("div",{children:{error:e}})}))}),[e,t]),403===t?Object(f.jsx)(s.a,{to:"/"}):null==m?null:m.children.find((function(t){return t.id===e}))||-1===e?Object(f.jsxs)("div",{align:"center",style:{display:"flex",flexDirection:"column",backgroundColor:"#d9fffa",justifyItems:"center",alignItems:"center",alignContent:"center",height:"100%",overflow:"auto"},children:[Object(f.jsx)(h.a,{className:"bbutton",onClick:function(){l.push(J)},style:{position:"absolute",left:"10px",top:"10px"},children:"Back"}),Object(f.jsx)("h1",{className:"unselectable script",children:-1===e?"Create new attribute":"Edit"}),Object(f.jsxs)(b.a,{onSubmit:function(e){return function(e){return A.apply(this,arguments)}(e)},style:{width:"100%",height:"100%"},children:[Object(f.jsx)(h.a,{type:"submit",className:"bbutton",style:{position:"absolute",right:"10px",bottom:"10px",backgroundColor:"green",zIndex:"2"},children:-1===e?"Save":"Edit"}),Object(f.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[O(I,N,C),Object(f.jsx)(b.a.Control,{required:!0,type:"text",value:a,placeholder:"Attribute",style:{width:"50%",textAlign:"center"},onChange:function(e){return i(e.target.value)}})]})]})]}):Object(f.jsx)(s.a,{to:J})}function _(){return Object(f.jsxs)(s.d,{children:[Object(f.jsx)(s.b,{exact:!0,path:"/",component:F}),Object(f.jsx)(s.b,{exact:!0,path:"/:id",component:B})," ",Object(f.jsx)(s.b,{exact:!0,path:"/Workers/:man",component:y}),Object(f.jsx)(s.b,{exact:!0,path:"/Admins/:man",component:y}),Object(f.jsx)(s.b,{exact:!0,path:"/Rules/:rule",component:I}),Object(f.jsx)(s.b,{exact:!0,path:"/Attributes/:attribute",component:q}),Object(f.jsx)(s.b,{exact:!0,path:"/Access_denied",component:g}),Object(f.jsx)(s.a,{from:"/",to:"/Attributes"}),Object(f.jsx)(s.a,{from:"*",to:"/"})]})}i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(l.a,{children:Object(f.jsx)(_,{})})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.d82e9efc.chunk.js.map